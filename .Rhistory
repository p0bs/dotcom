blogdown:::serve_site()
blogdown:::serve_site()
blogdown::hugo_version()
blogdown::update_hugo()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
library(tidyverse)
library(ggmap)
library(leaflet)
library(widgetframe)
setwd("dotcom/data/")
library(tidyverse)
library(ggmap)
library(leaflet)
library(widgetframe)
ScoredAreas1a <- read_csv(
"~/ScoredAreas1a.csv",
col_types = c("iicddldddddidddddd"))
library(tidyverse)
library(ggmap)
library(leaflet)
library(widgetframe)
ScoredAreas1a <- read_csv(
"~/data/ScoredAreas1a.csv",
col_types = c("iicddldddddidddddd"))
library(tidyverse)
library(ggmap)
library(leaflet)
library(widgetframe)
ScoredAreas1a <- read_csv(
"~/../data/ScoredAreas1a.csv",
col_types = c("iicddldddddidddddd"))
library(tidyverse)
library(ggmap)
library(leaflet)
library(widgetframe)
ScoredAreas1a <- read_csv(
"~/../../data/ScoredAreas1a.csv",
col_types = c("iicddldddddidddddd"))
blogdown:::serve_site()
blogdown:::serve_site()
ScoredAreas1a <- read_csv(
"data/ScoredAreas1a.csv",
col_types = c("iicddldddddidddddd"))
library(tidyverse)
library(ggmap)
ScoredAreas1a <- read_csv(
"data/ScoredAreas1a.csv",
col_types = c("iicddldddddidddddd"))
Areas1.df <- read_csv(
"data/Areas1df.csv",
col_types = c("iicddilic"))
TopAreas <- ScoredAreas1a %>%
mutate(score = -1*((15*z.time) +
(1*z.age) +
(6*z.expense) +
(6*z.crime) +
(6*z.flunkers) +
(3*z.deprived))) %>%
arrange(desc(score), id) %>%
left_join(Areas1.df, by="id") %>%
rename(lng=long)
colnames(TopAreas)[24] <- "Xorder"
LngLat1 <- TopAreas %>%
arrange(desc(score), id, Xorder) %>%
select(lng, lat, id, Xorder, score) %>%
mutate(Nid0a = substring(id, 1, 1),
Nid0b = as.numeric(substring(id, 2))
)
LngLat1a1 <- substring(LngLat1$id, 1, 1)
LngLat1a2 <- substring(LngLat1$id, 2)
Nid <- as.numeric(LngLat1a2)
Nid1 <- unique(Nid)
Nid1 <- Nid1 + 0.5
LngLat2 <- LngLat1 %>%
select(lng, lat, score, Nid0b)
lLngLat3 <- length(Nid1)
LngLat3a <- rep(NA, lLngLat3)
LngLat3b <- rep(NA, lLngLat3)
LngLat3c <- rep(NA, lLngLat3)
LngLat3 <- cbind(LngLat3a, LngLat3b, LngLat3c, Nid1)
colnames(LngLat3) <- c("lng", "lat", "score", "Nid0b")
LngLat4 <- rbind(LngLat2, LngLat3)
LngLat4b <- LngLat4 %>%
arrange(Nid0b)
LngLat5 <- LngLat4b %>%
select(lng, lat)
LngLat <- as.matrix(LngLat5, ncol=2)
Score1 <- LngLat4b %>%
select(Nid0b, score) %>%
distinct()
Score1 <- Score1[complete.cases(Score1),]
Score1 <- as.matrix(Score1, ncol=2)
Score1 <- as.data.frame(Score1)
str(TopAreas)
str(Areas1.df)
library(sf)
uk <- st_read(system.file("Lower_Layer_SOA_2011_EW_Gen_Clip.shp", package="sf"), quiet = TRUE)
uk <- st_read(system.file("Lower_Layer_SOA_2011_EW_Gen_Clip.shp", package="sf"), quiet = TRUE)
uk <- st_read(system.file("data/Lower_Layer_SOA_2011_EW_Gen_Clip.shp", package="sf"), quiet = TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(nc)
uk <- st_read(
system.file(
"data/Lower_Layer_SOA_2011_EW_Gen_Clip.shp",
package="sf"),
quiet = TRUE)
library(ggplot2)
library(sf)
uk <- st_read(
system.file(
"data/Lower_Layer_SOA_2011_EW_Gen_Clip.shp",
package="sf"),
quiet = TRUE)
uk <- st_read(
system.file(
"Lower_Layer_SOA_2011_EW_Gen_Clip.shp",
package="sf"),
quiet = TRUE)
uk <- st_read(
"Lower_Layer_SOA_2011_EW_Gen_Clip.shp")
uk <- st_read(
"content/data/Lower_Layer_SOA_2011_EW_Gen_Clip.shp")
uk <- sf::st_read(
dsn = "content/data/Lower_Layer_SOA_2011_EW_Gen_Clip.shp")
uk <- sf::st_read(
dsn = "content/data/Lower_Layer_SOA_2011_EW_Gen_Clip.shp")
uk <- sf::read_sf(
"content/post/data/Lower_Layer_SOA_2011_EW_Gen_Clip.shp"
)
uk <- sf::read_sf(
"content/post/data/Lower_Layer_SOA_2011_EW_Gen_Clip.kml"
)
View(uk)
uk <- sf::read_sf(
"content/post/data/Lower_Layer_SOA_2011_EW_Gen_Clip.dbf"
)
uk <- sf::read_sf(
"content/post/data/Lower_Layer_SOA_2011_EW_Gen_Clip.shx"
)
uk <- sf::read_sf(
"content/post/data/Lower_Layer_SOA_2011_EW_Gen_Clip.shp"
)
View(uk)
uk <- sf::read_sf(
"content/post/data/Lower_Layer_Super_Output_Areas_December_2011_Super_Generalised_Clipped__Boundaries_in_England_and_Wales.shp"
)
uk <- sf::read_sf(
"content/post/data/Lower_Layer_Super_Output_Areas_December_2011_Super_Generalised_Clipped__Boundaries_in_England_and_Wales.shp"
)
uk <- sf::read_sf(
"content/post/data/Lower_Layer_Super_Output_Areas_December_2011_Super_Generalised_Clipped__Boundaries_in_England_and_Wales.shx"
)
View(uk)
uk <- sf::read_sf(
"content/post/data/Lower_Layer_Super_Output_Areas_December_2011_Super_Generalised_Clipped__Boundaries_in_England_and_Wales.csv"
)
uk <- sf::read_sf(
"content/post/data/Lower_Layer_Super_Output_Areas_December_2011_Super_Generalised_Clipped__Boundaries_in_England_and_Wales.shp"
)
View(uk)
attr(uk)
str(uk)
uk[[1]]
uk[[1]][1]
uk <- st_read(
system.file(
"data/LSOA_2011_EW_BGC_V2.shp",
package="sf"),
quiet = TRUE)
uk <- sf::read_sf(
"content/post/data/LSOA_2011_EW_BGC_V2.shp"
)
uk <- sf::read_sf(
"content/post/data/LSOA_2011_EW_BGC_V2.shx"
)
View(uk)
