mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-1 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd"))
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-1 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
filter(id, starts_with('E'))
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-1 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
filter(substr(id,1,1) == 'E')
head(data$id)
tail(data$id)
ggplot(data = finalData) +
geom_sf(aes(fill = score))
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-1 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric))
ggplot(data = finalData) +
geom_sf(aes(fill = score))
ggplot(data = finalData) +
geom_sf(aes(fill = -score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
filter(score > 0) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric))
ggplot(data = finalData) +
geom_sf(aes(fill = -score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
filter(score < 0) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric))
ggplot(data = finalData) +
geom_sf(aes(fill = -score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
slice(1:200)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
slice(1:1000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
slice(1:2000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal))) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(score) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal))) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score = (
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal))) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal))) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(score) %>%
slice(1:5000)
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal))) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(score) %>%
slice(1:5000)
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(score) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal))) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(score) %>%
slice(1:5000)
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(score) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
(15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) * -1) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
((15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) * -1) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
slice(1:5000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
((15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) * -1) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
slice(1:3000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
((15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) * -1) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score))
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
((15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) * -1) %>%
select(id, score) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
slice(1:10000)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
((15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) * -1) %>%
select(id, score) %>%
mutate(score = scale(score)) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
filter(score > 0)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
((15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) * -1) %>%
select(id, score) %>%
mutate(score = scale(score)) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
filter(score > 1)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
((15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) * -1) %>%
select(id, score) %>%
mutate(score = scale(score)) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
filter(score > 0.5)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
finalData <- data %>%
select(id:IMD.score) %>%
mutate_if(is.numeric, funs(scale)) %>%
mutate(score =
((15 * Time) +
Wtd.Ave +
(6 * Affordability) +
(6 * IMD.crime.score) +
(6 * IMD.education.score) +
(3 * IMD.score) +
(-2 * coastal)) * -1) %>%
select(id, score) %>%
mutate(score = scale(score)) %>%
left_join(geography, by = c("id" = "lsoa11cd")) %>%
mutate_at(.vars = "score", funs(as.numeric)) %>%
arrange(desc(score)) %>%
filter(score > 0.75)
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis")
ggplot(data = finalData) +
geom_sf(aes(fill = score)) +
scale_fill_continuous(type = "viridis") +
theme_void()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
