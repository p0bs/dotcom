Name = word(Player, start = 1L, end = -2L),
fullCountry = word(Player, -1),
Country = str_sub(fullCountry, 2,-2)) %>%
filter(
Country %in% c("Aus", "Ban", "Eng", "India", "NZ", "Pak", "SA", "SL", "WI")
) %>%
mutate(
Start = as.integer(str_sub(Span, 1, 4)),
Decade = 10*trunc(Start/10)
) %>%
select(Name, Country, Start, Decade, Ave, Innings = Inns, Runs, Bat)
glimpse(batOrder)
barOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "",
y = ""
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
) +
ggtitle(
'Comparing batsmen by batting order over time.',
subtitle = 'Order: {Bat}'
)
batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "",
y = ""
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
) +
ggtitle(
'Comparing batsmen by batting order over time.',
subtitle = 'Order: {Bat}'
)
batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "",
y = ""
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
)
library(tidyverse)
library(gganimate)
library(glue)
theme_set(theme_bw())
batOrder <- read_csv("data/BattingOrder.csv") %>%
mutate(
Name = word(Player, start = 1L, end = -2L),
fullCountry = word(Player, -1),
Country = str_sub(fullCountry, 2,-2)) %>%
filter(
Country %in% c("Aus", "Ban", "Eng", "India", "NZ", "Pak", "SA", "SL", "WI")
) %>%
mutate(
Start = as.integer(str_sub(Span, 1, 4)),
Decade = 10*trunc(Start/10)
) %>%
select(Name, Country, Start, Decade, Ave, Innings = Inns, Runs, Bat)
glimpse(batOrder)
batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "",
y = ""
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
) +
ggtitle(
'Comparing batsmen by batting order over time.',
subtitle = 'Order: {Bat}'
)
batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = '',
y = '',
title = 'Comparing batsmen by batting order',
subtitle = 'Order: {Bat} out of 11'
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
)
library(tidyverse)
library(gganimate)
library(glue)
theme_set(theme_bw())
batOrder <- read_csv("data/BattingOrder.csv") %>%
mutate(
Name = word(Player, start = 1L, end = -2L),
fullCountry = word(Player, -1),
Country = str_sub(fullCountry, 2,-2)) %>%
filter(
Country %in% c("Aus", "Ban", "Eng", "India", "NZ", "Pak", "SA", "SL", "WI")
) %>%
mutate(
Start = as.integer(str_sub(Span, 1, 4)),
Decade = 10*trunc(Start/10),
Bat = as_factor(Bat)
) %>%
select(Name, Country, Start, Decade, Ave, Innings = Inns, Runs, Bat)
library(tidyverse)
library(gganimate)
library(glue)
theme_set(theme_bw())
batOrder <- read_csv("data/BattingOrder.csv") %>%
mutate(
Name = word(Player, start = 1L, end = -2L),
fullCountry = word(Player, -1),
Country = str_sub(fullCountry, 2,-2)) %>%
filter(
Country %in% c("Aus", "Ban", "Eng", "India", "NZ", "Pak", "SA", "SL", "WI")
) %>%
mutate(
Start = as.integer(str_sub(Span, 1, 4)),
Decade = 10*trunc(Start/10)
) %>%
select(Name, Country, Start, Decade, Ave, Innings = Inns, Runs, Bat)
glimpse(batOrder)
batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
# labs(
#   x = '',
#   y = ''
#   ) +
ggtitle(
'Comparing batsmen by batting order',
subtitle = 'Order: {closest_state} out of 11'
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
)
library(tidyverse)
library(gganimate)
library(glue)
theme_set(theme_bw())
batOrder <- read_csv("data/BattingOrder.csv") %>%
mutate(
Name = word(Player, start = 1L, end = -2L),
fullCountry = word(Player, -1),
Country = str_sub(fullCountry, 2,-2)) %>%
filter(
Country %in% c("Aus", "Ban", "Eng", "India", "NZ", "Pak", "SA", "SL", "WI")
) %>%
mutate(
Start = as.integer(str_sub(Span, 1, 4)),
Decade = 10*trunc(Start/10)
) %>%
select(Name, Country, Start, Decade, Ave, Innings = Inns, Runs, Bat)
glimpse(batOrder)
a <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "Decade in which the batsman's career ended",
y = ""
) +
ggtitle(
'The 200 best players who have ever batted a number {closest_state}',
subtitle = 'Batting average'
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
) +
enter_grow() +
exit_shrink()
anim_save(filename = "output.mp4", animation = a)
anim_save(filename = "output.mov", animation = a)
save_animation(filename = "output.mov", animation = a)
save_animation(file = "output.mov", animation = a)
save_animation(file = "output.gif", animation = a)
anim_save(filename = "output.gif", animation = a)
a <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "Decade in which the batsman's career ended",
y = ""
) +
ggtitle(
'The 200 best players who have ever batted a number {closest_state}',
subtitle = 'Batting average'
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
) +
enter_grow() +
exit_shrink()
anim_save(filename = "output.gif", animation = a)
a <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "Last decade of the batsman's career",
y = ""
) +
ggtitle(
'The 200 best players who have ever batted at {closest_state} in the order',
subtitle = 'Batting average'
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
) +
enter_grow() +
exit_shrink()
anim_save(filename = "output.gif", animation = a)
a <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "Last decade of the batsman's career",
y = ""
) +
ggtitle(
'The 200 best players who have ever batted at {closest_state} in the order',
subtitle = 'Average when batting at that position'
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
) +
enter_grow() +
exit_shrink()
anim_save(filename = "output.gif", animation = a)
a <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "Last decade of the batsman's career",
y = ""
) +
ggtitle(
'The 200 best players who have ever batted at {closest_state} in the order',
subtitle = 'Average when batting at that position'
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
) +
ease_aes('cubic-in-out')
anim_save(filename = "output.gif", animation = a)
a <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "Last decade of the batsman's career",
y = ""
) +
ggtitle(
'The 200 best players who have ever batted at {closest_state} in the order',
subtitle = 'Average when batting at that position'
) +
transition_states(
states = Bat,
transition_length = 2,
state_length = 1
) +
ease_aes('cubic-in-out')
View(a)
p <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "Last decade of the batsman's career",
y = ""
)
a +
geom_point_interactive(
aes(tooltip = Name)
) +
facet_wrap(~ Bat) +
labs(x = "", title = "", y = "") +
theme(legend.position="none")
library(tidyverse)
library(gganimate)
library(glue)
library(ggiraph)
install.packages("ggiraph")
library(tidyverse)
library(gganimate)
library(glue)
library(ggiraph)
library(htmlwidgets)
library(ggiraph)
library(gdtools)
install.packages("gdtools")
library(tidyverse)
library(gganimate)
library(glue)
library(htmlwidgets)
library(ggiraph)
install.packages("Cairo")
install.packages("cairoDevice")
devtools::install_github("lawremi/cairoDevice")
install.packages("RGtk2")
install.packages("rggobi")
install.packages("esquisse")
library(tidyverse)
library(gganimate)
library(glue)
library(htmlwidgets)
library(ggiraph)
devtools::install_github("davidgohel/gdtools")
remove.packages("Cairo")
install.packages("Cairo")
library(tidyverse)
library(gganimate)
library(glue)
library(htmlwidgets)
library(ggiraph)
install.packages("cairoDevice")
library(tidyverse)
library(gganimate)
library(glue)
library(plotly)
theme_set(theme_bw())
batOrder <- read_csv("data/BattingOrder.csv") %>%
mutate(
Name = word(Player, start = 1L, end = -2L),
fullCountry = word(Player, -1),
Country = str_sub(fullCountry, 2,-2)) %>%
filter(
Country %in% c("Aus", "Ban", "Eng", "India", "NZ", "Pak", "SA", "SL", "WI")
) %>%
mutate(
Start = as.integer(str_sub(Span, 1, 4)),
Decade = 10*trunc(Start/10)
) %>%
select(Name, Country, Start, Decade, Ave, Innings = Inns, Runs, Bat)
glimpse(batOrder)
p <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
color = Country,
size = Innings
)
) +
geom_point(alpha = 1) +
labs(
x = "Last decade of the batsman's career",
y = ""
)
p1 <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
text = Name,
color = Country
)
) +
geom_point() +
facet_wrap(~ Bat) +
labs(
x = "",
title = "",
y = ""
) +
theme(legend.position="none")
config(displayModeBar = F,
displaylogo = F,
showLink = F,
p = p1)
p1 <- ggplotly(p1)
layout(p1, hovermode = "closest")
p1 <- batOrder %>%
ggplot(
aes(
x = Decade,
y = Ave,
text = Name,
color = Country
)
) +
geom_point() +
facet_wrap(~ Bat) +
labs(
x = "",
title = "",
y = ""
) +
theme(legend.position="none")
config(displayModeBar = F,
displaylogo = F,
showLink = F,
p = p1)
p1 <- ggplotly(p1)
